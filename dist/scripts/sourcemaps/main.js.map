{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../main.js","sourcesContent":["new WOW().init();\r\n$(function() {\r\n    btn=$('.header__btn');\r\n    navbar=$('.header__links');\r\n    body=$('body');\r\n    btn.click(function(e) {\r\n        e.preventDefault();\r\n        navbar.toggleClass('open');\r\n        btn.toggleClass('open');\r\n        body.toggleClass('overflow');\r\n    });\r\n\r\n    /*$(document).on('wheel', '.select2-results', function (e) {\r\n        var down = e.originalEvent.deltaY > 0;\r\n        var atTop = this.scrollTop === 0;\r\n        var atBottom = this.scrollHeight - this.scrollTop === this.clientHeight;\r\n\r\n        if (atTop && !down || atBottom && down) {\r\n            e.preventDefault();\r\n        }\r\n    });*/\r\n    $(\"[data-ajax]\").submit(function (e) {\r\n        e.preventDefault();\r\n        var msg=\"\";\r\n        $(this).find('[name]').each(function (index, value) {\r\n            if(msg.length>0){\r\n                return false;\r\n            }\r\n            var required = $(this).attr('data-required');\r\n            var invalid = $(this).attr('data-invalid');\r\n\r\n            if (typeof required !== typeof undefined && required !== false) {\r\n                if($(this).val().length==0){\r\n                    msg=$(this).attr(\"data-required\");\r\n                    return;\r\n                }\r\n            }\r\n            if (typeof invalid !== typeof undefined && invalid !== false) {\r\n                if($(this).attr(\"type\")==\"email\"){\r\n                    if(!validateEmail($(this).val())){\r\n                        msg=$(this).attr(\"data-invalid\");\r\n                        return;\r\n                    }\r\n                }\r\n                else if($(this).attr(\"type\")==\"url\"){\r\n                    if(!validateUrl($(this).val())){\r\n                        msg=$(this).attr(\"data-invalid\");\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n        });\r\n        if(msg.length>0){\r\n            $(\"[data-error]\").addClass(\"error\");\r\n            $(\"[data-error]\").removeClass(\"success\");\r\n            showError(msg);\r\n        }\r\n        else{\r\n            var $this = $(this),\r\n                url=$(this).attr('action'),\r\n                method = $(this).attr('method'),\r\n                data = {};\r\n\r\n            $this.find('[name]').each(function (index, value) {\r\n                var $this = $(this),\r\n                    name = $this.attr('name'),\r\n                    value = $this.val();\r\n                data[name] = value;\r\n            });\r\n            var ms=\"\";\r\n            $.ajax({\r\n                url: url,\r\n                type: method,\r\n                data: data,\r\n                error: function (comeback) {\r\n                    $(\"[data-error]\").addClass(\"error\");\r\n                    $(\"[data-error]\").removeClass(\"success\");\r\n                    showError(\"napaka v sistemu\")\r\n                },\r\n                success: function (comeback) {\r\n                    $(\"[data-error]\").addClass(\"success\");\r\n                    $(\"[data-error]\").removeClass(\"error\");\r\n                    showError(comeback)\r\n                }\r\n            });\r\n        }\r\n\r\n    })\r\n});\r\nfunction showError(msg){\r\n\r\n    $(\"[data-error-popup]\").addClass(\"open\");\r\n    if($(\"[data-error-popup]\").attr(\"data-error-popup\")!=\"\"){\r\n        setTimeout(function () {\r\n            $(\"[data-error-popup]\").removeClass(\"open\");\r\n        }, $(\"[data-error-popup]\").attr(\"data-error-popup\"));\r\n    }\r\n\r\n    $(\"[data-error-text]\").text(msg);\r\n}\r\nfunction validateEmail(email) {\r\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\nfunction validateUrl(url) {\r\n    var re = /^(http|https)?:\\/\\/[a-zA-Z0-9-\\.]+\\.[a-z]{2,4}/;\r\n    return re.test(url);\r\n}"]}